<html>
<head>
  <script type="text/javascript" src="https://sandbox.web.squarecdn.com/v1/square.js"></script>
  <script>
    const appId="sandbox-sq0idb-j3vULNmvfItjkMzPmHc7mg";
    const locationId = "LZGJXJQWAD2BV";
    async function initializeCard(payments) {
      const card = await payments.card();
      await card.attach('#card-container');
      return card;
    }

    document.addEventListener('DOMContentLoaded', async function () {
      if (!window.Square) {
        throw new Error('Square.js failed to load properly');
      }
      const payments = window.Square.payments(appId, locationId);
      let card;
      try {
        card = await initializeCard(payments);
      } catch (e) {
        console.error('Initializing Card failed', e);
        return;
      }

      // Step 5.2: create card payment
    });

  </script>
</head>
<body>
<form id="payment-form">
  <div id="card-container"></div>
  <button id="card-button" type="button">Pay $1.00</button>
</form>
<div id="payment-status-container"></div>

</body>
</html>
